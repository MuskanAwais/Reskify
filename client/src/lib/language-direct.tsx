// Direct language switching without complex context
export const LANGUAGES = [
  { code: 'en', name: 'English', flag: 'ðŸ‡ºðŸ‡¸' },
  { code: 'zh', name: 'ä¸­æ–‡', flag: 'ðŸ‡¨ðŸ‡³' },
  { code: 'es', name: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸' },
];

export const TRANSLATIONS = {
  en: {
    'legalDisclaimer': 'Legal Disclaimer',
    'reviewAcceptDisclaimer': 'Review and accept the legal disclaimer and terms',
    'startBuildingSwms': 'Start Building Your SWMS',
    'createComprehensiveDocumentation': 'Create comprehensive safety documentation tailored to your industry and project requirements.',
    'quickActions': 'Quick Actions',
    'manageSafetyCompliance': 'Manage your Safe Work Method Statements and safety compliance',
    'draftSwms': 'Draft SWMS',
    'saveCompleteLater': 'Save and complete later',
    'completedSwms': 'Completed SWMS',
    'projectSpecificDocumentation': 'Project-specific documentation',
    'createNewSwms': 'Create New SWMS',
    'quickStart': 'Quick Start',
    'recentSwmsDocuments': 'Recent SWMS Documents',
    'viewAll': 'View All',
    'nav.dashboard': 'Dashboard',
    'nav.swms-builder': 'SWMS Builder',
    'nav.ai-generator': 'AI SWMS Generator',
    'nav.my-swms': 'My SWMS',
    'nav.safety-library': 'Safety Library',
    'nav.team': 'Team',
    'nav.analytics': 'Analytics',
    'nav.account': 'Account',
    'btn.save': 'Save',
    'btn.cancel': 'Cancel',
    'btn.next': 'Next',
    'btn.generate': 'Generate SWMS',
    'swms.builder': 'SWMS Builder',
    'swms.create.comprehensive': 'Create comprehensive safety documentation',
    'swms.back.dashboard': 'Back to Dashboard',
    'swms.save.close': 'Save & Close',
    'swms.step': 'Step',
    'swms.of': 'of',
    'swms.progress': 'Progress',
    'swms.complete': 'Complete',
    'swms.step1.title': 'Project & Contractor Details',
    'swms.step1.desc': 'Project information, contractor details, and high-risk work identification',
    'swms.step2.title': 'Work Activities & Risk Assessment',
    'swms.step2.desc': 'Detailed work breakdown and comprehensive risk assessments',
    'swms.step3.title': 'Plant, Equipment & Training',
    'swms.step3.desc': 'Equipment specifications, training requirements, and permits',
    'swms.step4.title': 'Emergency & Monitoring',
    'swms.step4.desc': 'Emergency procedures and review/monitoring processes',
    'swms.step5.title': 'Legal Disclaimer',
    'swms.step5.desc': 'Accept terms and liability disclaimer',
    'swms.step6.title': 'Final Document',
    'swms.step6.desc': 'Generate complete SWMS document',
    'swms.title': 'SWMS Title',
    'swms.trade.type': 'Trade Type',
    'swms.trade.select': 'Select your trade',
    'swms.job.name': 'Job Name',
    'swms.job.number': 'Job Number',
    'swms.project.address': 'Project Address',
    'swms.project.location': 'Project Location/Description',
    'legalDisclaimerTerms': 'Legal Disclaimer Terms',
  },
  zh: {
    'legalDisclaimer': 'æ³•å¾‹å…è´£å£°æ˜Ž',
    'reviewAcceptDisclaimer': 'å®¡æŸ¥å¹¶æŽ¥å—æ³•å¾‹å…è´£å£°æ˜Žå’Œæ¡æ¬¾',
    'startBuildingSwms': 'å¼€å§‹æž„å»ºæ‚¨çš„SWMS',
    'createComprehensiveDocumentation': 'åˆ›å»ºé’ˆå¯¹æ‚¨çš„è¡Œä¸šå’Œé¡¹ç›®è¦æ±‚çš„ç»¼åˆå®‰å…¨æ–‡æ¡£ã€‚',
    'quickActions': 'å¿«æ·æ“ä½œ',
    'manageSafetyCompliance': 'ç®¡ç†æ‚¨çš„å®‰å…¨å·¥ä½œæ–¹æ³•å£°æ˜Žå’Œå®‰å…¨åˆè§„æ€§',
    'draftSwms': 'è‰ç¨¿SWMS',
    'saveCompleteLater': 'ä¿å­˜å¹¶ç¨åŽå®Œæˆ',
    'completedSwms': 'å·²å®Œæˆçš„SWMS',
    'projectSpecificDocumentation': 'é¡¹ç›®ç‰¹å®šæ–‡æ¡£',
    'createNewSwms': 'åˆ›å»ºæ–°çš„SWMS',
    'quickStart': 'å¿«é€Ÿå¼€å§‹',
    'recentSwmsDocuments': 'æœ€è¿‘çš„SWMSæ–‡æ¡£',
    'viewAll': 'æŸ¥çœ‹å…¨éƒ¨',
    'nav.dashboard': 'ä»ªè¡¨æ¿',
    'nav.swms-builder': 'SWMSæž„å»ºå™¨',
    'nav.ai-generator': 'AI SWMSç”Ÿæˆå™¨',
    'nav.my-swms': 'æˆ‘çš„SWMS',
    'nav.safety-library': 'å®‰å…¨åº“',
    'nav.team': 'å›¢é˜Ÿ',
    'nav.analytics': 'åˆ†æž',
    'nav.account': 'è´¦æˆ·',
    'btn.save': 'ä¿å­˜',
    'btn.cancel': 'å–æ¶ˆ',
    'btn.next': 'ä¸‹ä¸€ä¸ª',
    'btn.generate': 'ç”ŸæˆSWMS',
    'swms.builder': 'SWMSæž„å»ºå™¨',
    'swms.create.comprehensive': 'åˆ›å»ºå…¨é¢çš„å®‰å…¨æ–‡æ¡£',
    'swms.back.dashboard': 'è¿”å›žä»ªè¡¨æ¿',
    'swms.save.close': 'ä¿å­˜å¹¶å…³é—­',
    'swms.step': 'æ­¥éª¤',
    'swms.of': 'å…±',
    'swms.progress': 'è¿›åº¦',
    'swms.complete': 'å®Œæˆ',
    'swms.step1.title': 'é¡¹ç›®å’Œæ‰¿åŒ…å•†è¯¦æƒ…',
    'swms.step1.desc': 'é¡¹ç›®ä¿¡æ¯ã€æ‰¿åŒ…å•†è¯¦æƒ…å’Œé«˜é£Žé™©å·¥ä½œè¯†åˆ«',
    'swms.step2.title': 'å·¥ä½œæ´»åŠ¨å’Œé£Žé™©è¯„ä¼°',
    'swms.step2.desc': 'è¯¦ç»†çš„å·¥ä½œåˆ†è§£å’Œå…¨é¢çš„é£Žé™©è¯„ä¼°',
    'swms.step3.title': 'è®¾å¤‡ã€æœºæ¢°å’ŒåŸ¹è®­',
    'swms.step3.desc': 'è®¾å¤‡è§„æ ¼ã€åŸ¹è®­è¦æ±‚å’Œè®¸å¯è¯',
    'swms.step4.title': 'åº”æ€¥å’Œç›‘æŽ§',
    'swms.step4.desc': 'åº”æ€¥ç¨‹åºå’Œå®¡æŸ¥/ç›‘æŽ§æµç¨‹',
    'swms.step5.title': 'æ³•å¾‹å…è´£å£°æ˜Ž',
    'swms.step5.desc': 'æŽ¥å—æ¡æ¬¾å’Œè´£ä»»å…è´£å£°æ˜Ž',
    'swms.step6.title': 'æœ€ç»ˆæ–‡æ¡£',
    'swms.step6.desc': 'ç”Ÿæˆå®Œæ•´çš„SWMSæ–‡æ¡£',
    'swms.title': 'SWMSæ ‡é¢˜',
    'swms.trade.type': 'è¡Œä¸šç±»åž‹',
    'swms.trade.select': 'é€‰æ‹©æ‚¨çš„è¡Œä¸š',
    'swms.job.name': 'å·¥ä½œåç§°',
    'swms.job.number': 'å·¥ä½œç¼–å·',
    'swms.project.address': 'é¡¹ç›®åœ°å€',
    'swms.project.location': 'é¡¹ç›®ä½ç½®/æè¿°',
    'legalDisclaimerTerms': 'æ³•å¾‹å…è´£å£°æ˜Žæ¡æ¬¾',
  },
  es: {
    'legalDisclaimer': 'Descargo de Responsabilidad Legal',
    'reviewAcceptDisclaimer': 'Revisar y aceptar el descargo de responsabilidad legal y los tÃ©rminos',
    'startBuildingSwms': 'Comenzar a Construir Su SWMS',
    'createComprehensiveDocumentation': 'Crear documentaciÃ³n de seguridad integral adaptada a los requisitos de su industria y proyecto.',
    'quickActions': 'Acciones RÃ¡pidas',
    'manageSafetyCompliance': 'Gestione sus Declaraciones de MÃ©todo de Trabajo Seguro y cumplimiento de seguridad',
    'draftSwms': 'Borrador SWMS',
    'saveCompleteLater': 'Guardar y completar mÃ¡s tarde',
    'completedSwms': 'SWMS Completados',
    'projectSpecificDocumentation': 'DocumentaciÃ³n especÃ­fica del proyecto',
    'createNewSwms': 'Crear Nuevo SWMS',
    'quickStart': 'Inicio RÃ¡pido',
    'recentSwmsDocuments': 'Documentos SWMS Recientes',
    'viewAll': 'Ver Todo',
    'nav.dashboard': 'Panel de Control',
    'nav.swms-builder': 'Constructor SWMS',
    'nav.ai-generator': 'Generador AI SWMS',
    'nav.my-swms': 'Mis SWMS',
    'nav.safety-library': 'Biblioteca de Seguridad',
    'nav.team': 'Equipo',
    'nav.analytics': 'AnÃ¡lisis',
    'nav.account': 'Cuenta',
    'btn.save': 'Guardar',
    'btn.cancel': 'Cancelar',
    'btn.next': 'Siguiente',
    'btn.generate': 'Generar SWMS',
    'swms.builder': 'Constructor SWMS',
    'swms.create.comprehensive': 'Crear documentaciÃ³n de seguridad integral',
    'swms.back.dashboard': 'Volver al Panel',
    'swms.save.close': 'Guardar y Cerrar',
    'swms.step': 'Paso',
    'swms.of': 'de',
    'swms.progress': 'Progreso',
    'swms.complete': 'Completo',
    'swms.step1.title': 'Detalles del Proyecto y Contratista',
    'swms.step1.desc': 'InformaciÃ³n del proyecto, detalles del contratista e identificaciÃ³n de trabajo de alto riesgo',
    'swms.step2.title': 'Actividades de Trabajo y EvaluaciÃ³n de Riesgos',
    'swms.step2.desc': 'Desglose detallado del trabajo y evaluaciones integrales de riesgos',
    'swms.step3.title': 'Planta, Equipo y Entrenamiento',
    'swms.step3.desc': 'Especificaciones de equipo, requisitos de entrenamiento y permisos',
    'swms.step4.title': 'Emergencia y Monitoreo',
    'swms.step4.desc': 'Procedimientos de emergencia y procesos de revisiÃ³n/monitoreo',
    'swms.step5.title': 'Descargo de Responsabilidad Legal',
    'swms.step5.desc': 'Aceptar tÃ©rminos y descargo de responsabilidad',
    'swms.step6.title': 'Documento Final',
    'swms.step6.desc': 'Generar documento SWMS completo',
    'swms.title': 'TÃ­tulo SWMS',
    'swms.trade.type': 'Tipo de Oficio',
    'swms.trade.select': 'Seleccione su oficio',
    'swms.job.name': 'Nombre del Trabajo',
    'swms.job.number': 'NÃºmero de Trabajo',
    'swms.project.address': 'DirecciÃ³n del Proyecto',
    'swms.project.location': 'UbicaciÃ³n/DescripciÃ³n del Proyecto',
    'legalDisclaimerTerms': 'TÃ©rminos del Descargo de Responsabilidad Legal',
  }
};

// Global language state
let currentLang = 'en';

export function getCurrentLanguage(): string {
  return currentLang;
}

export function setLanguage(lang: string): void {
  currentLang = lang;
  localStorage.setItem('app-language', lang);
  window.location.reload(); // Force page refresh to apply translations
}

export function translate(key: string): string {
  const langTranslations = TRANSLATIONS[currentLang as keyof typeof TRANSLATIONS];
  return (langTranslations as any)?.[key] || (TRANSLATIONS.en as any)[key] || key;
}

// Initialize language from localStorage
try {
  const saved = localStorage.getItem('app-language');
  if (saved && LANGUAGES.find(l => l.code === saved)) {
    currentLang = saved;
  }
} catch {
  currentLang = 'en';
}